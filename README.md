# ミニ将棋（5五将棋）Go実装

claudeの試し切り。  
Go言語で実装した5×5マスのミニ将棋ゲームです。CUIベースで動作し、簡単なAI対戦機能を搭載しています。

## 特徴

- 5×5マスの将棋盤
- 標準的な駒セット（玉、金、銀、角、飛、歩）
- 駒の成り機能（銀→全、角→馬、飛→龍、歩→と）
- 持ち駒システム
- ミニマックス法を使用したAI対戦
- CUIベースのシンプルなインターフェース

## 実行方法

```bash
go run minishogi.go
```

## ゲームの流れ

1. 起動時にゲームモードを選択
   - `1`: 先手（人間） vs 後手（AI）
   - `2`: 先手（AI） vs 後手（人間）

2. 盤面が表示され、交互に指し手を入力

3. 玉が取られるとゲーム終了

## 盤面の見方

```
  １ ２ ３ ４ ５
┌─────────────┐
│v飛v角v銀v金v玉│一  
│ ．  ．  ．  ． v歩│二
│ ．  ．  ．  ．  ． │三
│ 歩  ．  ．  ．  ． │四
│ 玉  金  銀  角  飛 │五
└─────────────┘
先手持ち駒: なし
後手持ち駒: なし
```

- 先手の駒: 通常表示（例: 飛）
- 後手の駒: 「v」付き（例: v飛）
- 空きマス: ．

## 座標系

```
  １ ２ ３ ４ ５
┌─────────────┐
│11 21 31 41 51│一  
│12 22 32 42 52│二
│13 23 33 43 53│三
│14 24 34 44 54│四
│15 25 35 45 55│五
└─────────────┘
```

## 操作方法

### 駒の移動

4桁の数字で入力します：`[元の位置][先の位置]`

**例：**
- `1554` → 1五の駒を5四へ移動
- `5153` → 5一の駒を5三へ移動
- `2524` → 2五の駒を2四へ移動

### 持ち駒を打つ

アルファベット+2桁の数字で入力します：`[駒の種類][打つ位置]`

**駒の種類：**
- `p` = 歩（Pawn）
- `s` = 銀（Silver）
- `g` = 金（Gold）
- `b` = 角（Bishop）
- `r` = 飛（Rook）

**例：**
- `p33` → 歩を3三に打つ
- `s42` → 銀を4二に打つ
- `g25` → 金を2五に打つ

### 成り

相手陣地（先手なら1段目、後手なら5段目）に駒が入ると、成りの選択ができます。
`成りますか？ (y/n):` と表示されたら、`y`で成り、`n`で成らずを選択します。

## 駒の動き

### 基本の駒
- **玉（玉）**: 全方向に1マス
- **金（金）**: 前・左前・右前・左・右・後ろに1マス
- **銀（銀）**: 前・左前・右前・左後ろ・右後ろに1マス
- **角（角）**: 斜め方向に何マスでも
- **飛（飛）**: 縦横方向に何マスでも
- **歩（歩）**: 前に1マス

### 成り駒
- **全（成銀）**: 金と同じ動き
- **馬（成角）**: 角の動き＋縦横1マス
- **龍（成飛）**: 飛の動き＋斜め1マス
- **と（と金）**: 金と同じ動き

## ルール

### 基本ルール
- 相手の玉を取ったら勝ち
- 取った駒は持ち駒として再利用可能
- 成り駒を取ると、元の駒に戻して持ち駒になる

### 禁じ手
- 二歩（同じ列に歩を2枚置く）
- 行き所のない駒（最奥段に歩を打つ）

## AI機能

- ミニマックス法（深さ3）による思考
- アルファベータ枝刈りで高速化
- 駒の価値に基づく評価関数
  - 玉: 10000点
  - 飛/龍: 900/1100点
  - 角/馬: 800/1000点
  - 金/成駒: 600点
  - 銀: 500点
  - 歩: 100点

## 注意事項

- 詰みチェックは未実装（玉が取られるまでゲーム続行）
- 千日手・持将棋の判定は未実装
- 王手の警告表示は未実装
